"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{2737:function(e,t,o){o.d(t,{Z:function(){return h}});var i=o(4246),a=o(9892),r=o.n(a),n=o(9894),s=o.n(n),d=o(8579),l=o.n(d),c=o(7378),f=o(13),b=function(e){var t=e.content,o=e.trigger,a=(0,c.useState)(!1),n=a[0],s=a[1],d=(0,c.useCallback)((function(e){"Escape"===e.key&&s(!1)}),[]);return(0,c.useEffect)((function(){return document.addEventListener("keydown",d,!1),function(){document.removeEventListener("keydown",d,!1)}}),[d]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.Popover,{onClickOutside:function(){return s(!1)},isOpen:n,positions:["bottom","left"],content:function(e){var o=e.position,a=e.childRect,r=e.popoverRect;return(0,i.jsx)(f.ArrowContainer,{position:o,childRect:a,popoverRect:r,arrowColor:"#333",arrowSize:6,className:"popover-arrow-container",arrowClassName:"popover-arrow",children:(0,i.jsx)("div",{className:"jsx-15582e1f462d57b8 popover",children:t})})},padding:4,children:o(n,s)}),n&&(0,i.jsx)("div",{onClick:function(){return s(!1)},className:"jsx-15582e1f462d57b8 overlay"}),(0,i.jsx)(r(),{id:"15582e1f462d57b8",children:".popover.jsx-15582e1f462d57b8{background:#333;color:white;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;padding:16px;margin-right:24px}.overlay.jsx-15582e1f462d57b8{position:absolute;top:65px;right:0;left:0;bottom:0;opacity:0}"})]})},x=o(3842),p=o(9312),m=function(e){var t=e.html,o=e.previewFunction,a=e.previewClass,n=(0,c.useState)(null),s=n[0],d=n[1],l=(0,c.useState)(null),f=l[0],b=l[1],m=(0,c.useState)(null),u=m[0],h=m[1],g=(0,c.useState)(!1),w=g[0],j=g[1];(0,c.useEffect)((function(){if(!s){d(window.localStorage.getItem("previewSenderEmail"));var e=window.localStorage.getItem("previewSenderLastSentAt");e&&h(new Date(e))}}),[s]);var k=(0,c.useCallback)(function(){var e=(0,x.Z)((function(e){var r,n,d,l,c,f,x,m;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:if(e.preventDefault(),!s)return[2];window.localStorage.setItem("previewSenderEmail",s),p.label=1;case 1:return p.trys.push([1,4,5,6]),j(!0),(n={}).to=s,n.html=t,n.previewFunction=o,n.previewClass=a,n.subject="".concat(a," - ").concat(o),r=n,l={},[4,fetch("/api/previews/send",(l.method="POST",l.headers={"Content-Type":"application/json"},l.body=JSON.stringify(r),l))];case 2:return[4,(d=p.sent()).json()];case 3:return c=p.sent(),f={},c.error||d.status>=300?(h(null),b((0,i.jsx)(i.Fragment,(f.children=c.error||"Unknown error, check your console",f)))):(b(null),x=new Date,h(x),window.localStorage.setItem("previewSenderLastSentAt",x.toJSON())),[3,6];case 4:return m=p.sent(),console.error(m),h(null),window.localStorage.removeItem("previewSenderLastSentAt"),[3,6];case 5:return j(!1),[7];case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[t,a,o,s]),v=(0,c.useCallback)((function(e){d(e.target.value)}),[]);return(0,i.jsxs)("div",{className:"jsx-4bf5f0052dc9327d container",children:[(0,i.jsx)("h3",{className:"jsx-4bf5f0052dc9327d",children:"Send a test email"}),!u&&(0,i.jsxs)("div",{className:"jsx-4bf5f0052dc9327d subtitle",children:["To start sending emails, you must configure a transport in"," ",(0,i.jsx)("span",{className:"jsx-4bf5f0052dc9327d mono",children:"emails/index.tsx"}),"."," ",(0,i.jsx)("a",{href:"https://github.com/sofn-xyz/mailing#configure-transport",className:"jsx-4bf5f0052dc9327d",children:"Learn more"})]}),(0,i.jsxs)("form",{onSubmit:k,className:"jsx-4bf5f0052dc9327d",children:[(0,i.jsx)("input",{"aria-label":"email",type:"email",placeholder:"name@example.com",value:s||"",onChange:v,className:"jsx-4bf5f0052dc9327d"}),(0,i.jsx)("input",{type:"submit",value:"Send",disabled:!(null===s||void 0===s?void 0:s.length),className:"jsx-4bf5f0052dc9327d"})]}),f&&(0,i.jsxs)("div",{className:"jsx-4bf5f0052dc9327d error",children:["\u26a0 ",f]}),w&&(0,i.jsx)("div",{className:"jsx-4bf5f0052dc9327d sending",children:"Sending..."}),!w&&u&&(0,i.jsxs)("div",{className:"jsx-4bf5f0052dc9327d last-send",children:["\u2713 Sent at ",null===u||void 0===u?void 0:u.toLocaleTimeString()]}),(0,i.jsx)(r(),{id:"4bf5f0052dc9327d",children:'.container.jsx-4bf5f0052dc9327d{max-width:320px;padding-bottom:8px;color:#fff}.container.jsx-4bf5f0052dc9327d>*.jsx-4bf5f0052dc9327d{-webkit-font-smoothing:antialiased}form.jsx-4bf5f0052dc9327d{margin-bottom:8px}input.jsx-4bf5f0052dc9327d{font-size:14px;background:#333;color:#fff;line-height:120%;padding:8px;border:solid 1px#666;-webkit-border-top-left-radius:2px;-moz-border-radius-topleft:2px;border-top-left-radius:2px;-webkit-border-bottom-left-radius:2px;-moz-border-radius-bottomleft:2px;border-bottom-left-radius:2px}input[type="email"].jsx-4bf5f0052dc9327d{border-right:none;min-width:216px}input[type="email"].jsx-4bf5f0052dc9327d:hover{outline:none;border:1px solid#bbb;border-right:none}input[type="email"].jsx-4bf5f0052dc9327d:focus{outline:none;border:1px solid#bbb;border-right:none}.jsx-4bf5f0052dc9327d::-webkit-input-placeholder{color:#aaa}.jsx-4bf5f0052dc9327d:-moz-placeholder{color:#aaa}.jsx-4bf5f0052dc9327d::-moz-placeholder{color:#aaa}.jsx-4bf5f0052dc9327d:-ms-input-placeholder{color:#aaa}.jsx-4bf5f0052dc9327d::-ms-input-placeholder{color:#aaa}.jsx-4bf5f0052dc9327d::placeholder{color:#aaa}input[type="submit"].jsx-4bf5f0052dc9327d{background-color:#fff;color:#000;font-size:12px;border:none;padding:11px 12px 14px;position:relative;top:-2px;border-image-width:0;-webkit-border-top-left-radius:0px;-moz-border-radius-topleft:0px;border-top-left-radius:0px;-webkit-border-bottom-left-radius:0px;-moz-border-radius-bottomleft:0px;border-bottom-left-radius:0px;-webkit-border-top-right-radius:2px;-moz-border-radius-topright:2px;border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-moz-border-radius-bottomright:2px;border-bottom-right-radius:2px;-webkit-transition:box-shadow 200ms ease-out;-moz-transition:box-shadow 200ms ease-out;-o-transition:box-shadow 200ms ease-out;transition:box-shadow 200ms ease-out}input[type="submit"].jsx-4bf5f0052dc9327d:hover{cursor:pointer;background:#e4ebfa}input[type="submit"].jsx-4bf5f0052dc9327d:active{-webkit-box-shadow:inset 0 0 12px rgba(0,0,0,.75);-moz-box-shadow:inset 0 0 12px rgba(0,0,0,.75);box-shadow:inset 0 0 12px rgba(0,0,0,.75)}a.jsx-4bf5f0052dc9327d{-webkit-transition:background-color,-webkit-transform 200ms ease-out;-moz-transition:background-color,-moz-transform 200ms ease-out;-o-transition:background-color,-o-transform 200ms ease-out;transition:background-color,-webkit-transform 200ms ease-out;transition:background-color,-moz-transform 200ms ease-out;transition:background-color,-o-transform 200ms ease-out;transition:background-color,transform 200ms ease-out;display:inline-block;color:#fff}a.jsx-4bf5f0052dc9327d:hover{background:#fadf98;color:#333}a.jsx-4bf5f0052dc9327d:active{-webkit-transform:translateY(2px);-moz-transform:translateY(2px);-ms-transform:translateY(2px);-o-transform:translateY(2px);transform:translateY(2px)}h3.jsx-4bf5f0052dc9327d{font-weight:700;font-size:16px;margin:4px 0 12px}.subtitle.jsx-4bf5f0052dc9327d{font-size:12px;margin-top:-4px;margin-bottom:16px;line-height:130%;max-width:288px}.error.jsx-4bf5f0052dc9327d,.sending.jsx-4bf5f0052dc9327d,.last-send.jsx-4bf5f0052dc9327d{font-size:12px}.sending.jsx-4bf5f0052dc9327d,.last-send.jsx-4bf5f0052dc9327d{color:#a4f59c}'})]})},u=o(4284),h=function(e){var t=e.title,o=e.previewFunction,a=e.previewClass,n=e.viewMode,d=e.setViewMode,c=e.helpContent;return(0,i.jsxs)("div",{className:"jsx-a386650f48abd9ff header",children:[(0,i.jsxs)("div",{className:"jsx-a386650f48abd9ff path",children:[(0,i.jsx)(s(),{href:"/",children:(0,i.jsx)("a",{className:"jsx-a386650f48abd9ff index",children:(0,i.jsx)("span",{className:"jsx-a386650f48abd9ff",children:"previews"})})}),(0,i.jsxs)("span",{className:"jsx-a386650f48abd9ff",children:[" / ",t]})]}),(0,i.jsx)("div",{className:"jsx-a386650f48abd9ff segmented-control-container",children:(0,i.jsxs)("div",{className:"jsx-a386650f48abd9ff segmented-control",children:[(0,i.jsx)("button",{onClick:function(){return d("desktop")},className:"jsx-a386650f48abd9ff "+"desktop".concat("desktop"===n?" active":""),children:(0,i.jsx)(l(),{src:"/icon-desktop.svg",width:"24",height:"20",alt:"Desktop icon",title:"Toggle desktop view"})}),(0,i.jsx)("button",{onClick:function(){return d("mobile")},className:"jsx-a386650f48abd9ff "+"mobile".concat("mobile"===n?" active":""),children:(0,i.jsx)(l(),{src:"/icon-mobile.svg",width:"12.43",height:"22",alt:"Mobile icon",title:"Toggle mobile view"})}),(0,i.jsx)("button",{onClick:function(){return d("html")},className:"jsx-a386650f48abd9ff "+"html".concat("html"===n?" active":""),children:(0,i.jsx)(l(),{src:"/icon-code.svg",width:"21",height:"14.5",alt:"HTML icon",title:"Toggle HTML view"})})]})}),(0,i.jsxs)("div",{className:"jsx-a386650f48abd9ff buttons-container",children:[(0,i.jsx)(b,{trigger:function(e,t){return(0,i.jsx)("button",{onClick:function(){return t((function(e){return!e}))},className:"jsx-a386650f48abd9ff help",children:e?(0,i.jsx)(l(),{src:"/icon-close.svg",width:"10",height:"10",alt:"Close icon",title:"Close"}):(0,i.jsx)(l(),{src:"/icon-question.svg",width:"8",height:"12",alt:"Close icon",title:"Close"})})},content:c}),!u.env.NEXT_PUBLIC_STATIC&&o&&a&&(0,i.jsx)(b,{trigger:function(e,t){return(0,i.jsx)("button",{onClick:function(){return t((function(e){return!e}))},className:"jsx-a386650f48abd9ff send",children:e?(0,i.jsx)(l(),{src:"/icon-close.svg",width:"10",height:"10",alt:"Close icon",title:"Close"}):(0,i.jsx)(l(),{src:"/icon-send.svg",width:"14.43",height:"14",alt:"Send icon",title:"Send a preview"})})},content:(0,i.jsx)(m,{previewFunction:o,previewClass:a})})]}),(0,i.jsx)(r(),{id:"a386650f48abd9ff",children:".header.jsx-a386650f48abd9ff{height:64px;border-bottom:1px dotted#333;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 24px;-webkit-font-smoothing:antialiased;font-size:14px}.buttons-container.jsx-a386650f48abd9ff{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:right;-webkit-justify-content:right;-moz-box-pack:right;-ms-flex-pack:right;justify-content:right}.buttons-container.jsx-a386650f48abd9ff,.segmented-control-container.jsx-a386650f48abd9ff,.path.jsx-a386650f48abd9ff{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.index.jsx-a386650f48abd9ff{display:inline-block}.segmented-control-container.jsx-a386650f48abd9ff{text-align:center}.segmented-control.jsx-a386650f48abd9ff{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}button.jsx-a386650f48abd9ff{background:#fff;height:40px;border:1px dotted#333;-webkit-transition:background-color,box-shadow 200ms ease-out;-moz-transition:background-color,box-shadow 200ms ease-out;-o-transition:background-color,box-shadow 200ms ease-out;transition:background-color,box-shadow 200ms ease-out;text-align:center}a.jsx-a386650f48abd9ff{-webkit-transition:background-color,-webkit-transform 200ms ease-out;-moz-transition:background-color,-moz-transform 200ms ease-out;-o-transition:background-color,-o-transform 200ms ease-out;transition:background-color,-webkit-transform 200ms ease-out;transition:background-color,-moz-transform 200ms ease-out;transition:background-color,-o-transform 200ms ease-out;transition:background-color,transform 200ms ease-out}a.jsx-a386650f48abd9ff:hover span.jsx-a386650f48abd9ff,button.jsx-a386650f48abd9ff:hover{cursor:pointer;background:#e4ebfa}button.jsx-a386650f48abd9ff:active{-webkit-box-shadow:inset 0 0 12px rgba(0,0,0,.5);-moz-box-shadow:inset 0 0 12px rgba(0,0,0,.5);box-shadow:inset 0 0 12px rgba(0,0,0,.5)}a.jsx-a386650f48abd9ff:active{-webkit-transform:translateY(2px);-moz-transform:translateY(2px);-ms-transform:translateY(2px);-o-transform:translateY(2px);transform:translateY(2px)}.buttons-container.jsx-a386650f48abd9ff{text-align:end}.desktop.jsx-a386650f48abd9ff,.mobile.jsx-a386650f48abd9ff,.html.jsx-a386650f48abd9ff{height:40px;width:60px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.desktop.jsx-a386650f48abd9ff{border-right:none;-webkit-border-top-left-radius:16px;-moz-border-radius-topleft:16px;border-top-left-radius:16px;-webkit-border-bottom-left-radius:16px;-moz-border-radius-bottomleft:16px;border-bottom-left-radius:16px}.html.jsx-a386650f48abd9ff{border-left:none;-webkit-border-top-right-radius:16px;-moz-border-radius-topright:16px;border-top-right-radius:16px;-webkit-border-bottom-right-radius:16px;-moz-border-radius-bottomright:16px;border-bottom-right-radius:16px}.active.jsx-a386650f48abd9ff{background:#e4ebfa}.help.jsx-a386650f48abd9ff,.send.jsx-a386650f48abd9ff{width:40px;height:40px;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0}.help.jsx-a386650f48abd9ff{margin:0 8px 0 0}@media(max-width:768px){.segmented-control-container.jsx-a386650f48abd9ff,.help.jsx-a386650f48abd9ff{display:none}}"})]})}},6377:function(e,t,o){var i=o(4246),a=o(9892),r=o.n(a),n=o(8194);t.Z=function(e){var t=e.viewMode,o=e.setViewMode,a=e.srcDoc,s=(0,n.Z)({setViewMode:o}),d=s.iframeRef,l=s.textareaRef;return(0,i.jsxs)(i.Fragment,{children:["html"===t?(0,i.jsx)("textarea",{readOnly:!0,value:a,ref:l,className:"jsx-28a086413ed86b99 code-container mono"}):(0,i.jsx)("div",{className:"jsx-28a086413ed86b99 "+"frame ".concat("mobile"===t?" mobile":""),children:(0,i.jsx)("iframe",{srcDoc:a,ref:d,className:"jsx-28a086413ed86b99"})}),(0,i.jsx)(r(),{id:"28a086413ed86b99",children:".frame.jsx-28a086413ed86b99{margin:auto;display:block}.mobile.frame.jsx-28a086413ed86b99{padding:64px 16px 74px;max-width:324px;-webkit-border-radius:32px;-moz-border-radius:32px;border-radius:32px;margin:64px auto}.mobile.jsx-28a086413ed86b99 iframe.jsx-28a086413ed86b99{height:568px;max-width:320px}iframe.jsx-28a086413ed86b99{width:100%;border:none;height:-webkit-calc(100vh - 65px);height:-moz-calc(100vh - 65px);height:calc(100vh - 65px)}.mobile.jsx-28a086413ed86b99,.mobile.jsx-28a086413ed86b99 iframe.jsx-28a086413ed86b99{border:1px dotted#333}.code-container.jsx-28a086413ed86b99{font-size:10px;white-space:pre-wrap;padding:16px;outline:none;height:-webkit-calc(100vh - 65px);height:-moz-calc(100vh - 65px);height:calc(100vh - 65px);width:100%;resize:none}@media(prefers-color-scheme:dark){.code-container.jsx-28a086413ed86b99{white-space:pre-wrap;color:white;background:#212121}}"})]})}},8194:function(e,t,o){o.d(t,{Y:function(){return n},Z:function(){return d}});var i=o(7378),a=o(6677),r=o(8785),n={showPreviews:"/",viewModeDesktop:"1",viewModeHTML:"3",viewModeMobile:"2",viewModeNext:"]",viewModePrevious:"["},s=["desktop","mobile","html"];function d(e){var t=e.setViewMode,o=(0,a.useRouter)(),d=(0,i.useCallback)((function(e){switch(e.key){case n.showPreviews:o.push("/");break;case n.viewModeDesktop:t("desktop");break;case n.viewModeHTML:t("html");break;case n.viewModeMobile:t("mobile");break;case n.viewModeNext:t((function(e){var t=s.indexOf(e)+1;return s[t]||s[0]}));break;case n.viewModePrevious:t((function(e){var t=s.indexOf(e)-1;return s[t]||s[s.length-1]}))}}),[o,t]);return(0,r.y1)(Object.values(n).join(","),d),{iframeRef:(0,i.useCallback)((function(e){null!==e&&(e.onload=function(){var t,o=null===e||void 0===e||null===(t=e.contentWindow)||void 0===t?void 0:t.document;null===o||void 0===o||o.addEventListener("keydown",d)})}),[d]),textareaRef:(0,i.useCallback)((function(e){null!==e&&(e.onkeydown=d)}),[d])}}}}]);